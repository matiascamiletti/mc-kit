<div class="mc-filter-panel w-full md:w-2xl">
  <div class="sticky top-0 bg-white z-10 sm:static">
    <div class="flex justify-between items-center gap-4">
      <h4 class="font-bold">Advanced Filters</h4>
      <div class="flex gap-2">
        <p-button
          label="Clear all"
          [text]="true"
          severity="secondary"
          iconPos="right"
          (onClick)="clickClearAll()"
          [disabled]="results().length === 0"
        />
        <p-button
          label="Apply"
          [severity]="'success'"
          (onClick)="onRefresh()"
          [disabled]="results().length === 0"
        ></p-button>
      </div>
    </div>
  </div>
  <div class="filters-container flex flex-col gap-2 pt-2">
    @for (result of results(); track $index) {
    <mc-item-advanced-filter
      [filters]="filters()"
      [result]="result"
      [isFirst]="$index == 0"
      (clickRemove)="clickRemoveFilter($index)"
    ></mc-item-advanced-filter>
    }
  </div>

  <div class="pt-2">
    <div class="actions flex gap-2">
      <p-button
        label="+ New Filter"
        [text]="true"
        [severity]="'info'"
        (onClick)="clickAddFilter()"
      />
      <p-button
        label="+ New group"
        [text]="true"
        [severity]="'info'"
        (onClick)="clickAddGroup()"
      />
    </div>

    @if (hasQuickFilters()) {
    <p-divider />

    <div class="flex justify-between items-center">
      <p-button
        label="Switch to quick filters"
        [text]="true"
        [severity]="'info'"
        (onClick)="clickSwitchToQuick()"
      />
    </div>
    }
  </div>
</div>
